<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ´¾é£ãƒ»ãƒã‚¤ãƒˆå°‚ç”¨ æœ€å¼·çµ¦æ–™è¨ˆç®—æ©Ÿ | æ·±å¤œãƒ»æ®‹æ¥­ãƒ»ä¹™æ¬„å¯¾å¿œ</title>
<meta name="description" content="æ´¾é£ç¤¾å“¡ã‚„å˜ç™ºã‚¢ãƒ«ãƒã‚¤ãƒˆã®ãŸã‚ã®çµ¦æ–™è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã€‚è¤‡é›‘ãªæ·±å¤œæ®‹æ¥­ã®é‡è¤‡ã‚„ã€æ—¥é›‡ã„ã®ç¨é‡‘ï¼ˆä¹™æ¬„3.063%ï¼‰ã‚‚ä¸€ç™ºè¨ˆç®—ã€‚ç™»éŒ²ä¸è¦ãƒ»ç„¡æ–™ã§ã™ãä½¿ãˆã¾ã™ã€‚">
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: #f0f2f5;
    color: #333;
    display: flex;
    justify-content: center;
    padding: 20px;
    margin: 0;
    line-height: 1.6;
  }
  .wrapper {
    width: 100%;
    max-width: 600px; /* è¨˜äº‹éƒ¨åˆ†ã‚‚å«ã‚ã¦å°‘ã—å¹…åºƒã« */
  }
  .container {
    background: white;
    padding: 24px;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    margin-bottom: 30px;
  }
  h1 { text-align: center; color: #2c3e50; margin-top: 0; margin-bottom: 10px; font-size: 22px;}
  p.subtitle { text-align: center; color: #666; font-size: 13px; margin-bottom: 24px; }
  
  /* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ å‘¨ã‚Š */
  .input-group { margin-bottom: 16px; }
  label { display: block; margin-bottom: 6px; font-weight: bold; font-size: 13px; color: #555; }
  input[type="number"], input[type="tel"], select {
    width: 100%; padding: 14px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; box-sizing: border-box; background: #fafafa; transition: 0.2s;
  }
  input:focus, select:focus { border-color: #007bff; background: #fff; outline: none; }
  
  /* ä¼‘æ†©ã‚¨ãƒªã‚¢ */
  .break-section { background: #f8f9fa; padding: 12px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #eee; }
  .break-label { font-size: 12px; color: #777; margin-bottom: 8px; text-align: center;}
  .break-row { display: flex; gap: 8px; margin-bottom: 8px; align-items: center; }
  .break-row span { font-size: 12px; color: #999; width: 15px; text-align: center;}
  
  /* ãƒœã‚¿ãƒ³ */
  button {
    width: 100%; padding: 16px; background: linear-gradient(135deg, #007bff, #0056b3); color: white; border: none; border-radius: 50px; font-size: 18px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,123,255,0.3); transition: transform 0.1s; margin-top: 10px;
  }
  button:active { transform: scale(0.98); }

  /* çµæœè¡¨ç¤º */
  #result {
    margin-top: 25px; background: #fffbe6; border: 1px dashed #bbb; padding: 20px; display: none; position: relative; box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  }
  #result::before { content: "RECEIPT"; position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: #333; color: #fff; padding: 2px 10px; font-size: 10px; border-radius: 4px; }
  .res-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #444; }
  .res-sub { font-size: 12px; color: #888; margin-left: 10px;}
  .res-divider { border-bottom: 1px dashed #ccc; margin: 10px 0; }
  .res-total { display: flex; justify-content: space-between; align-items: center; margin-top: 5px; font-weight: bold; font-size: 20px; color: #2c3e50; }
  .tax-row { color: #d32f2f; }

  /* --- ã“ã“ã‹ã‚‰è¨˜äº‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
  .content-area {
    background: #fff;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
  }
  .content-area h3 {
    border-left: 5px solid #007bff;
    padding-left: 10px;
    font-size: 18px;
    margin-top: 30px;
    margin-bottom: 15px;
    color: #333;
  }
  .content-area p { font-size: 14px; color: #555; margin-bottom: 15px; }
  .content-area ul { font-size: 14px; color: #555; padding-left: 20px; margin-bottom: 15px;}
  .content-area li { margin-bottom: 8px; }
  
  .ad-placeholder {
    background: #eee; text-align: center; padding: 20px; margin: 20px 0; border-radius: 8px; font-size: 12px; color: #888;
  }
  footer { text-align: center; font-size: 12px; color: #999; margin-top: 40px; padding-bottom: 20px;}
</style>
</head>
<body>

<div class="wrapper">
  
  <div class="container">
    <h1>ğŸ’° æœ€å¼·çµ¦æ–™è¨ˆç®—æ©Ÿ</h1>
    <p class="subtitle">æ´¾é£ãƒ»å˜ç™ºãƒã‚¤ãƒˆãƒ»å¤œå‹¤å¯¾å¿œ</p>

    <div class="input-group">
      <label>æ™‚çµ¦ (å††)</label>
      <input type="number" id="hourlyWage" placeholder="ä¾‹: 1500">
    </div>

    <div class="input-group">
      <label>å‹¤å‹™æ™‚é–“ (å…¥åŠ›ä¾‹: 9 ã¾ãŸã¯ 0900)</label>
      <div style="display:flex; gap:10px;">
        <input type="tel" id="startTime" placeholder="é–‹å§‹">
        <span style="align-self:center;">ï½</span>
        <input type="tel" id="endTime" placeholder="çµ‚äº†">
      </div>
      <div style="font-size:11px; color:#888; margin-top:4px; text-align:right;">â€»25æ™‚ãªã©ã®å…¥åŠ›ã‚‚OK</div>
    </div>

    <div class="break-section">
      <div class="break-label">ä¼‘æ†©æ™‚é–“ (å…¥åŠ›ãŒã‚ã‚‹å ´æ‰€ã®ã¿è¨ˆç®—)</div>
      <div class="break-row"><span>1</span><input type="tel" class="br-start" placeholder="é–‹å§‹"><input type="tel" class="br-end" placeholder="çµ‚äº†"></div>
      <div class="break-row"><span>2</span><input type="tel" class="br-start"><input type="tel" class="br-end"></div>
      <div class="break-row"><span>3</span><input type="tel" class="br-start"><input type="tel" class="br-end"></div>
      <div class="break-row"><span>4</span><input type="tel" class="br-start"><input type="tel" class="br-end"></div>
      <div class="break-row"><span>5</span><input type="tel" class="br-start"><input type="tel" class="br-end"></div>
    </div>

    <div class="input-group">
      <label>ç¨é‡‘ãƒ»æºæ³‰å¾´åã®è¨­å®š</label>
      <select id="taxMode">
        <option value="0">ãªã— (0%)</option>
        <option value="0.03063">ãƒã‚¤ãƒˆãƒ»æ—¥é›‡ã„ (ä¹™æ¬„ ç´„3%)</option>
        <option value="0.1021">ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ (10.21%)</option>
      </select>
    </div>

    <button onclick="calculateSalary()">è¨ˆç®—ã™ã‚‹</button>

    <div id="result"></div>
    
    </div>

  <div class="content-area">
    <h3>ã“ã®ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦</h3>
    <p>
      æ´¾é£ç¤¾å“¡ã‚„å˜ç™ºã‚¢ãƒ«ãƒã‚¤ãƒˆã®æ–¹ã«å‘ã‘ãŸã€é«˜æ©Ÿèƒ½ãªçµ¦æ–™è¨ˆç®—ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<br>
      é€šå¸¸ã®ã‚·ãƒ•ãƒˆç®¡ç†ã‚¢ãƒ—ãƒªã§ã¯å¯¾å¿œã—ã¦ã„ãªã„**ã€Œè¤‡é›‘ãªæ·±å¤œæ®‹æ¥­è¨ˆç®—ï¼ˆ1.5å€ï¼‰ã€**ã‚„ã€æ—¥é›‡ã„ç‰¹æœ‰ã®**ã€Œä¹™æ¬„ï¼ˆç´„3%ï¼‰ã®ç¨é‡‘è¨ˆç®—ã€**ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
    </p>

    <h3>ä¸»ãªæ©Ÿèƒ½ã¨ä½¿ã„æ–¹</h3>
    <ul>
      <li>**ã‚«ãƒ³ã‚¿ãƒ³å…¥åŠ›:** ã€Œ9ã€ã¨æ‰“ã¦ã°9:00ã€ã€Œ1830ã€ã§18:30ã¨è‡ªå‹•èªè­˜ã€‚ã‚³ãƒ­ãƒ³ã€Œ:ã€ã¯ä¸è¦ã§ã™ã€‚</li>
      <li>**è‡ªå‹•ä¿å­˜:** å…¥åŠ›ã—ãŸæ™‚çµ¦ã‚„ä¼‘æ†©ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã¦ã‚‚æ¬¡å›ã¾ã§ä¿å­˜ã•ã‚Œã¾ã™ã€‚</li>
      <li>**æ˜ç´°è¡¨ç¤º:** ãƒ¬ã‚·ãƒ¼ãƒˆé¢¨ã®ç”»é¢ã§ã€æ®‹æ¥­ä»£ã‚„æ·±å¤œæ‰‹å½“ã®å†…è¨³ãŒä¸€ç›®ã§ã‚ã‹ã‚Šã¾ã™ã€‚</li>
    </ul>

    <h3>çŸ¥ã£ã¦ãŠããŸã„ã€Œãƒã‚¤ãƒˆã®ç¨é‡‘ã€ã®è©±</h3>
    <p>
      å˜ç™ºãƒã‚¤ãƒˆã‚„æ›ã‘æŒã¡ã®å ´åˆã€çµ¦æ–™ã‹ã‚‰ã€Œç´„3.063%ã€ã®æ‰€å¾—ç¨ï¼ˆä¹™æ¬„ï¼‰ãŒå¤©å¼•ãã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚<br>
      ã“ã®è¨ˆç®—æ©Ÿã§ã¯ã€ç¨ç‡è¨­å®šã§ã€Œãƒã‚¤ãƒˆãƒ»æ—¥é›‡ã„ã€ã‚’é¸æŠã™ã‚‹ã“ã¨ã§ã€å®Ÿéš›ã®æŒ¯è¾¼é¡ï¼ˆæ‰‹å–ã‚Šï¼‰ã‚’æ­£ç¢ºã«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã¾ã™ã€‚
    </p>
    <p>
      â€»å¼•ãã™ããŸç¨é‡‘ã¯ã€ç¿Œå¹´ã®ç¢ºå®šç”³å‘Šã‚’è¡Œã†ã“ã¨ã§é‚„ä»˜ã•ã‚Œã‚‹ï¼ˆæˆ»ã£ã¦ãã‚‹ï¼‰å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯å›½ç¨åºã®ã‚µã‚¤ãƒˆç­‰ã‚’ã”ç¢ºèªãã ã•ã„ã€‚
    </p>

    <div class="ad-placeholder">
      [ã“ã“ã«ãƒã‚¤ãƒˆæ±‚äººãªã©ã®ãƒãƒŠãƒ¼åºƒå‘Šã‚’è²¼ã‚‹ã¨åŠ¹æœçš„ã§ã™]
    </div>

    <h3>ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ãƒ»å…è²¬äº‹é …</h3>
    <p>
      **å€‹äººæƒ…å ±ã®æ‰±ã„ã«ã¤ã„ã¦**<br>
      å½“ã‚µã‚¤ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›ã—ãŸæƒ…å ±ã‚’ã‚µãƒ¼ãƒãƒ¼ã¸é€ä¿¡ãƒ»ä¿å­˜ã™ã‚‹ã“ã¨ã¯ä¸€åˆ‡ã‚ã‚Šã¾ã›ã‚“ã€‚ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã¯ãŠå®¢æ§˜ã®ç«¯æœ«å†…ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰ã«ã®ã¿ä¿å­˜ã•ã‚Œã€å®‰å…¨ã«ç®¡ç†ã•ã‚Œã¾ã™ã€‚
    </p>
    <p>
      **å…è²¬äº‹é …**<br>
      è¨ˆç®—çµæœã¯ã‚ãã¾ã§ç›®å®‰ã§ã™ã€‚å®Ÿéš›ã®çµ¦ä¸è¨ˆç®—è¦å®šã¯å‹¤å‹™å…ˆã«ã‚ˆã‚Šç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚å½“ãƒ„ãƒ¼ãƒ«ã®åˆ©ç”¨ã«ã‚ˆã‚Šç”Ÿã˜ãŸæå®³ç­‰ã«ã¤ã„ã¦ã€é‹å–¶è€…ã¯è²¬ä»»ã‚’è² ã„ã‹ã­ã¾ã™ã®ã§ã”äº†æ‰¿ãã ã•ã„ã€‚
    </p>
  </div>

  <footer>
    &copy; 2024 æœ€å¼·çµ¦æ–™è¨ˆç®—æ©Ÿ All Rights Reserved.
  </footer>

</div>

<script>
  // --- ãƒ—ãƒ­ã‚°ãƒ©ãƒ å‡¦ç†éƒ¨åˆ†ï¼ˆå¤‰æ›´ãªã—ï¼‰ ---
  window.onload = function() {
    if(localStorage.getItem('hourlyWage')) document.getElementById('hourlyWage').value = localStorage.getItem('hourlyWage');
    if(localStorage.getItem('taxMode')) document.getElementById('taxMode').value = localStorage.getItem('taxMode');
    const brStarts = document.querySelectorAll('.br-start');
    const brEnds = document.querySelectorAll('.br-end');
    for(let i=0; i<5; i++) {
      if(localStorage.getItem(`brStart${i}`)) brStarts[i].value = localStorage.getItem(`brStart${i}`);
      if(localStorage.getItem(`brEnd${i}`)) brEnds[i].value = localStorage.getItem(`brEnd${i}`);
    }
  };

  function saveData() {
    localStorage.setItem('hourlyWage', document.getElementById('hourlyWage').value);
    localStorage.setItem('taxMode', document.getElementById('taxMode').value);
    const brStarts = document.querySelectorAll('.br-start');
    const brEnds = document.querySelectorAll('.br-end');
    for(let i=0; i<5; i++) {
      localStorage.setItem(`brStart${i}`, brStarts[i].value);
      localStorage.setItem(`brEnd${i}`, brEnds[i].value);
    }
  }

  function toMinutes(timeStr) {
    if (!timeStr) return null;
    let s = timeStr.toString();
    if (s.length <= 2) {
      return parseInt(s) * 60;
    }
    s = s.padStart(4, '0');
    const hours = parseInt(s.substring(0, 2));
    const minutes = parseInt(s.substring(2, 4));
    return (hours * 60) + minutes;
  }

  function toTimeStr(totalMinutes) {
    const h = Math.floor(totalMinutes / 60);
    const m = totalMinutes % 60;
    return `${h}æ™‚é–“${m}åˆ†`;
  }

  function calculateSalary() {
    saveData(); 
    const wage = parseInt(document.getElementById('hourlyWage').value);
    const startInput = document.getElementById('startTime').value;
    const endInput = document.getElementById('endTime').value;
    const taxRate = parseFloat(document.getElementById('taxMode').value);

    if (!wage || !startInput || !endInput) {
      alert("æ™‚çµ¦ã¨æ™‚é–“ã¯å¿…é ˆã§ã™ï¼");
      return;
    }

    let startMin = toMinutes(startInput);
    let endMin = toMinutes(endInput);
    if (endMin < startMin) endMin += 24 * 60; 

    const brStarts = document.querySelectorAll('.br-start');
    const brEnds = document.querySelectorAll('.br-end');
    let breakRanges = [];
    let totalBreakMin = 0;

    for (let i = 0; i < 5; i++) {
      const bs = toMinutes(brStarts[i].value);
      const be = toMinutes(brEnds[i].value);
      if (bs !== null && be !== null) {
        let actualBe = be;
        if (actualBe < bs) actualBe += 24 * 60;
        breakRanges.push({start: bs, end: actualBe});
        totalBreakMin += (actualBe - bs);
      }
    }

    let normalPay = 0;
    let overtimePay = 0; 
    let nightPay = 0;    
    let workedMin = 0;

    for (let t = startMin; t < endMin; t++) {
      let isBreak = false;
      for (let range of breakRanges) {
        if (t >= range.start && t < range.end) {
          isBreak = true;
          break;
        }
      }
      if (isBreak) continue;

      workedMin++;
      const payPerMin = wage / 60;
      normalPay += payPerMin;

      if (workedMin > 480) overtimePay += (payPerMin * 0.25);
      if (t >= 1320 && t < 1740) nightPay += (payPerMin * 0.25);
    }

    const grossTotal = normalPay + overtimePay + nightPay;
    const taxAmount = Math.floor(grossTotal * taxRate);
    const netTotal = Math.floor(grossTotal - taxAmount);

    const resultBox = document.getElementById('result');
    resultBox.style.display = 'block';
    
    let taxLabel = "ç¨é‡‘ãªã—";
    if(taxRate > 0.1) taxLabel = "æºæ³‰å¾´å (10.21%)";
    else if(taxRate > 0.01) taxLabel = "æ‰€å¾—ç¨ (ä¹™æ¬„ ç´„3%)";

    resultBox.innerHTML = `
      <div class="res-row"><span>å®Ÿåƒæ™‚é–“</span> <span>${toTimeStr(workedMin)}</span></div>
      <div class="res-divider"></div>
      <div class="res-row"><span>åŸºæœ¬çµ¦è¨ˆ</span> <span>${Math.floor(normalPay).toLocaleString()}</span></div>
      ${overtimePay > 0 ? `<div class="res-row" style="color:#e67e22;"><span>æ®‹æ¥­æ‰‹å½“ <span class="res-sub">(Ã—1.25)</span></span> <span>+${Math.floor(overtimePay).toLocaleString()}</span></div>` : ''}
      ${nightPay > 0 ? `<div class="res-row" style="color:#8e44ad;"><span>æ·±å¤œæ‰‹å½“ <span class="res-sub">(+0.25)</span></span> <span>+${Math.floor(nightPay).toLocaleString()}</span></div>` : ''}
      
      <div class="res-row" style="margin-top:10px; font-weight:bold;"><span>ç·æ”¯çµ¦é¡</span> <span>${Math.floor(grossTotal).toLocaleString()} å††</span></div>
      
      ${taxRate > 0 ? `<div class="res-row tax-row"><span>${taxLabel}</span> <span>â–²${taxAmount.toLocaleString()}</span></div>` : ''}
      
      <div class="res-divider"></div>
      <div class="res-total">
        <span>æ‰‹å–ã‚Š</span>
        <span>${netTotal.toLocaleString()} å††</span>
      </div>
    `;
  }
</script>

</body>
</html>